const translations = {
    ar: {
        nav: {
            home: "الرئيسية",
            about: "عن الشركة",
            services: "خدماتنا",
            products: "أعمالنا",
            Contact: "اتصل بنا",
        },
        newsletterTitle:
            "<h2> دعونا نحقق التميز في موقعك<span> الأكتروني</span></h2>",
        newsletterPlaceholder: "أدخل بريدك الإلكتروني",
        quickLinks: "روابط سريعة",
        ourServices: "خدماتنا",
        supportTitle: "الدعم",
        home: "الرئيسية",
        title: "التميز | تصميم المواقع وخدمات الويب ",
        about: "عن الشركة",
        services: "خدماتنا",
        portfolio: "أعمالنا",
        webDevelopment: "تصميم وتطوير المواقع",
        ecommerce: "إنشاء المتاجر الإلكترونية",
        seo: "تحسين محركات البحث",
        support: "خدمات الدعم الفني",
        help: "مساعدة",
        privacy: "سياسة الخصوصية",
        terms: "الشروط والأحكام",
        contact: "اتصال",
        copyright: "حقوق الطبع والنشر © 2025 جميع الحقوق محفوظة.",
        media: "باقات التسويق الرقمي",
        packagesMedia: [
            {
                title: "الباقة البرونزية",
                description: "تستهدف إدارة محتوى السوشيال ميديا، تحسين الـ SEO، حملات إعلانية أساسية، استراتيجيات البريد الإلكتروني، تقارير وتحليلات شهرية، واستشارة لمدة شهر.",
                price: "<h2>1800<sup>ريال</sup><sub> خصم </sub><sub class=strikethrough-strong-money> 2000 </sub></h2>",
                button: "احصل عليها الآن",
                features: [
                    "إدارة محتوى السوشيال ميديا",
                    "تحسين محركات البحث (SEO)",
                    "حملات إعلانية أساسية",
                    "استراتيجيات البريد الإلكتروني",
                    "تقارير وتحليلات شهرية",
                    "استشارة لمدة شهر"
                ]
            },
            {
                title: "الباقة الفضية",
                description: "تشمل إدارة الحملات الإعلانية، تحسين إعلانات Google، تجربة المستخدم، التسويق عبر الإيميل، وتحليل SEO متقدم.",
                price: "<h2>2700<sup>ريال</sup><sub> خصم </sub><sub class=strikethrough-strong-money> 5000 </sub></h2>",
                button: "احصل عليها الآن",
                features: [
                    "إدارة الحملات الإعلانية",
                    "تحسين إعلانات Google",
                    "تحسين تجربة المستخدم",
                    "التسويق عبر البريد الإلكتروني",
                    "تحليل SEO متقدم"
                ]
            },
            {
                title: "الباقة الذهبية",
                description: "تتضمن استراتيجية تسويق رقمي متكاملة، إدارة الحملات، تحسين الـ SEO، تحليلات متقدمة، واستشارة لمدة 6 شهور.",
                price: "<h2>4000<sup>ريال</sup><sub> خصم </sub><sub class=strikethrough-strong-money> 10000 </sub></h2>",
                button: "احصل عليها الآن",
                features: [
                    "استراتيجية تسويق رقمي متكاملة",
                    "إدارة الحملات الإعلانية",
                    "تحسين محركات البحث (SEO)",
                    "تحليلات متقدمة",
                    "استشارة لمدة 6 شهور"
                ]
            }
        ],
        // Contact info

        contactInfo: [
            {
                text: "يمكنكم التواصل معنا عبر البريد الإلكتروني.",
            },
            {
                text: "اتصل بنا لرفع مستوى علامتك التجارية وتحقيق النجاح عبر الإنترنت.",
            },
            {
                text: "قم بزيارة مكتبنا للحصول على حلول مخصصة.",
            }
        ],
        contactTitle: "تواصل معنا",
        contactSubtitle: "تواصل <span>معنا</span> الآن",
        contactDescription: "تواصل مع فريقنا للحصول على حلول متخصصة في بناء المواقع، مصممة لتعزيز حضورك الرقمي وتقديم تجربة مستخدم متميزة.",
        placeholders: {
            firstName: "الاسم الأول",
            lastName: "الاسم الأخير",
            phone: "رقم الهاتف",
            email: "البريد الإلكتروني",
            message: "اكتب استفسارك هنا..."
        },
        submit: "أرسل الرسالة"

    },
    en: {
        nav: {
            home: "Home",
            about: "About Us",
            services: "Services",
            products: "Portfolio",
            Contact: "Contact Us",
        },
        newsletterTitle:
            "<h2> Let's Achieve Excellence in <span> Your Website</span></h2>",
        newsletterPlaceholder: "Enter Your Email",
        quickLinks: "Quick Links",
        ourServices: "Our Services",
        supportTitle: "Support",
        home: "Home",
        about: "About Us",
        services: "Services",
        portfolio: "Our Packages",
        webDevelopment: "Web Design & Development",
        ecommerce: "E-commerce Creation",
        seo: "SEO Optimization",
        support: "Technical Support",
        help: "Help",
        privacy: "Privacy Policy",
        terms: "Terms & Conditions",
        contact: "Contact",
        copyright: "Copyright © 2025 All Rights Reserved.",
        viewMore: "View More",
        media: "Digital Marketing Packages",

        // Contact Info

        packagesMedia: [
            {
                title: "Bronze Package",
                description: "Targets social media content management, SEO improvement, basic advertising campaigns, email strategies, monthly reports, and a one-month consultation.",
                price: "<h2>1500<sup>QAR</sup><sub> Discount </sub><sub class=strikethrough-strong-money> 2000 </sub></h2>",
                button: "Get it now",
                features: [
                    "Social media content management",
                    "SEO optimization",
                    "Basic advertising campaigns",
                    "Email marketing strategies",
                    "Monthly reports and analysis",
                    "One-month consultation"
                ]
            },
            {
                title: "Silver Package",
                description: "Includes advertising campaign management, Google Ads optimization, user experience improvement, email marketing, and advanced SEO analysis.",
                price: "<h2>2700<sup>QAR</sup><sub> Discount </sub><sub class=strikethrough-strong-money> 5000 </sub></h2>",
                button: "Get it now",
                features: [
                    "Advertising campaign management",
                    "Google Ads optimization",
                    "User experience improvement",
                    "Email marketing",
                    "Advanced SEO analysis"
                ]
            },
            {
                title: "Gold Package",
                description: "Includes a comprehensive digital marketing strategy, campaign management, SEO improvement, advanced analytics, and a 6-month consultation.",
                price: "<h2>4000<sup>QAR</sup><sub> Discount </sub><sub class=strikethrough-strong-money> 10000 </sub></h2>",
                button: "Get it now",
                features: [
                    "Comprehensive digital marketing strategy",
                    "Campaign management",
                    "SEO optimization",
                    "Advanced analytics",
                    "6-month consultation"
                ]
            }
        ],

        // contact info

        contactInfo: [
            {
                text: "You can contact us via email.",
            },
            {
                text: "Call us to elevate your brand and achieve online success.",
            },
            {
                text: "Visit our office for tailored solutions.",
            }
        ],
        contactTitle: "Contact Us",
        contactSubtitle: "Get in <span>Touch</span> Now",
        contactDescription: "Reach out to our team for specialized web solutions designed to enhance your digital presence and provide an exceptional user experience.",
        placeholders: {
            firstName: "First Name",
            lastName: "Last Name",
            phone: "Phone Number",
            email: "Email",
            message: "Write your inquiry here..."
        },
        submit: "Send Message"
    },
};

const loadLanguage = () => {
    const savedLang = localStorage.getItem("selectedLang") || "ar";
    updatePageLanguage(savedLang);
    document.getElementById("language-toggle").checked = savedLang === "en";
};
// 

const updatePageLanguage = (lang) => {
    const selectedLang = translations[lang];

    const navItems = document.querySelectorAll(
        ".nav-menu-wrapper .navbar-nav > .nav-item > a"
    );
    const keys = ["home", "about", "services", "products", "Contact"];

    navItems.forEach((item, index) => {
        if (index < keys.length) {
            item.textContent = selectedLang.nav[keys[index]];
        }
    });

    // Update dropdown menu items based on language
    const serviceDropdownItems = document.querySelectorAll(".nav-menu-wrapper .navbar-nav > .nav-item.submenu > ul > li > a");
    serviceDropdownItems.forEach((item) => {
        if (lang === "en" && item.hasAttribute("data-en")) {
            item.textContent = item.getAttribute("data-en");
        } else if (lang === "ar" && item.hasAttribute("data-ar")) {
            item.textContent = item.getAttribute("data-ar");
        }
    });

    // contact functions 

    document.querySelector(".footer-newsletter-title h2").innerHTML =
        selectedLang.newsletterTitle;
    document.querySelector("#mail").placeholder =
        selectedLang.newsletterPlaceholder;

    let links = document.querySelectorAll(".footer-links h3");
    links[0].textContent = selectedLang.quickLinks;
    links[1].textContent = selectedLang.ourServices;
    links[2].textContent = selectedLang.supportTitle;

    let quickLinks = document.querySelectorAll(".footer-links.two ul li a");
    quickLinks[0].textContent = selectedLang.home;
    quickLinks[1].textContent = selectedLang.about;
    quickLinks[2].textContent = selectedLang.services;
    quickLinks[3].textContent = selectedLang.portfolio;

    let servicesLinks = document.querySelectorAll(".footer-links.three ul li a");
    servicesLinks[0].textContent = selectedLang.webDevelopment;
    servicesLinks[1].textContent = selectedLang.ecommerce;
    servicesLinks[2].textContent = selectedLang.seo;
    servicesLinks[3].textContent = selectedLang.support;

    let supportLinks = document.querySelectorAll(".footer-links.four ul li a");
    supportLinks[0].textContent = selectedLang.help;
    supportLinks[1].textContent = selectedLang.contact;

    document.querySelector(".footer-copyright-text p").textContent =
        selectedLang.copyright;



    document.querySelectorAll(".contact-info-item").forEach((item, index) => {
        item.querySelector(".par-info").textContent = translations[lang].contactInfo[index].text;
    });

    document.querySelector(".section-title h3").textContent = translations[lang].contactTitle;
    document.querySelector(".section-title h1").innerHTML = translations[lang].contactSubtitle;
    document.querySelector(".section-title-content p").textContent = translations[lang].contactDescription;

    document.getElementById("fname").placeholder = translations[lang].placeholders.firstName;
    document.getElementById("lname").placeholder = translations[lang].placeholders.lastName;
    document.getElementById("phone").placeholder = translations[lang].placeholders.phone;
    document.getElementById("email").placeholder = translations[lang].placeholders.email;
    document.getElementById("message").placeholder = translations[lang].placeholders.message;

    document.querySelector(".btn-default span").textContent = translations[lang].submit;


    document.querySelector("title").textContent = selectedLang.title;
    document.documentElement.setAttribute("lang", lang);
    document.documentElement.setAttribute("dir", lang === "en" ? "ltr" : "rtl");

    // contact functions End

    document.querySelector(".our-pricing.media div h2").textContent =
      selectedLang.media;

      document.querySelectorAll(".pricing-item.media").forEach((item, index) => {
        item.querySelector(".pricing-header h3").textContent = translations[lang].packagesMedia[index].title;
        item.querySelector(".pricing-header p").textContent = translations[lang].packagesMedia[index].description;
        item.querySelector(".pricing-header h2").innerHTML = translations[lang].packagesMedia[index].price;
        item.querySelector(".pricing-body a").textContent = translations[lang].packagesMedia[index].button;
        
        const featuresList = item.querySelector(".pricing-footer.media ul");
        featuresList.innerHTML = "";
        translations[lang].packagesMedia[index].features.forEach(feature => {
            const li = document.createElement("li");
            li.innerHTML = feature;
            li.className = "time";
            featuresList.appendChild(li);
            console.log(translations[lang].packagesMedia[index].features);
        });
    });

    document.querySelector("title").textContent = selectedLang.title;
    document.documentElement.setAttribute("lang", lang);
    document.documentElement.setAttribute("dir", lang === "en" ? "ltr" : "rtl");
};


//   
document
    .getElementById("language-toggle")
    .addEventListener("change", function () {
        const lang = this.checked ? "en" : "ar";
        localStorage.setItem("selectedLang", lang);

        const preloader = document.querySelector(".preloader");
        preloader.style.display = "flex";
        preloader.style.alignItems = "center";
        preloader.style.justifyContent = "center";

        // تحديث اللغة فوراً دون تأخير
        updatePageLanguage(lang);
        
        // إخفاء اللودر بعد فترة قصيرة للتأثير البصري
        setTimeout(() => {
            preloader.style.display = "none";
        }, 500);
    });

loadLanguage();
