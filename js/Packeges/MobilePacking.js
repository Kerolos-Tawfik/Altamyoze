const translations = {
    ar: {
        nav: {
            home: "الرئيسية",
            about: "عن الشركة",
            services: "خدماتنا",
            products: "أعمالنا",
            Contact: "اتصل بنا",
        },
        newsletterTitle:
            "<h2> دعونا نحقق التميز في موقعك<span> الأكتروني</span></h2>",
        newsletterPlaceholder: "أدخل بريدك الإلكتروني",
        quickLinks: "روابط سريعة",
        ourServices: "خدماتنا",
        supportTitle: "الدعم",
        home: "الرئيسية",
        title: "التميز | تصميم المواقع وخدمات الويب ",
        about: "عن الشركة",
        services: "خدماتنا",
        portfolio: "أعمالنا",
        webDevelopment: "تصميم وتطوير المواقع",
        ecommerce: "إنشاء المتاجر الإلكترونية",
        seo: "تحسين محركات البحث",
        support: "خدمات الدعم الفني",
        help: "مساعدة",
        privacy: "سياسة الخصوصية",
        terms: "الشروط والأحكام",
        contact: "اتصال",
        copyright: "حقوق الطبع والنشر © 2025 جميع الحقوق محفوظة.",
        mobile: "باقات تصميم و تطوير التطبيقات",
        packagesMobile: [
            {
                title: "الباقة البرونزية",
                description: "احصل على تطبيق موبايل احترافي يعكس هوية علامتك التجارية، بتصميم جذاب وأداء سلس على Android و iOS. هذه الباقة مثالية للشركات الناشئة التي تسعى لتعزيز تواجدها الرقمي.",
                price: "<h2>1000<sup>ريال</sup><sub> خصم </sub><sub class=strikethrough-strong-money> 2000 </sub></h2>",
                button: "احصل عليها الآن",
                features: [
                    "تصميم وتطوير تطبيق موبايل مخصص لأنظمة Android و iOS",
                    "واجهة مستخدم سلسة ومتجاوبة مع جميع الأجهزة",
                    "لوحة تحكم أساسية لإدارة المحتوى بسهولة",
                    "دمج إشعارات فورية لتنبيه المستخدمين",
                    "حماية متقدمة للبيانات والأمان ضد الاختراق",
                    "دعم فني وصيانة لمدة <span>شهر واحد</span>"
                ]
            },
            {
                title: "الباقة الفضية",
                description: "تطبيق موبايل متطور بميزات احترافية، مثالي للشركات المتوسطة التي ترغب في تحسين تجربة المستخدم وتعزيز تفاعل العملاء.",
                price: "<h2>1700<sup>ريال</sup><sub> خصم </sub><sub class=strikethrough-strong-money> 3400 </sub></h2>",
                button: "احصل عليها الآن",
                features: [
                    "تطبيق موبايل مخصص بالكامل لأنظمة Android و iOS",
                    "لوحة تحكم متقدمة لإدارة المحتوى بسهولة",
                    "دمج وسائل التواصل الاجتماعي وطرق الدفع الإلكتروني",
                    "تحسين الأداء لضمان سرعة تحميل عالية",
                    "تشفير البيانات وحماية متقدمة من الاختراق",
                    "دعم فني وصيانة لمدة <span>3 شهور</span>"
                ]
            },
            {
                title: "الباقة الذهبية",
                description: "أفضل اختيار للشركات والمتاجر الإلكترونية التي تحتاج إلى تطبيق احترافي متكامل بميزات متقدمة وأداء عالي.",
                price: "<h2>2000<sup>ريال</sup><sub> خصم </sub><sub class=strikethrough-strong-money> 4000 </sub></h2>",
                button: "احصل عليها الآن",
                features: [
                    "تصميم وتطوير تطبيق مخصص بالكامل مع ميزات ذكية",
                    "بنية تقنية قوية تدعم الأداء العالي والتوسع",
                    "دعم الدفع الإلكتروني وربط مع المتاجر الإلكترونية",
                    "إحصائيات وتحليلات متقدمة لمتابعة سلوك المستخدمين",
                    "استضافة سحابية وأمان عالي لحماية البيانات",
                    "دعم فني وصيانة لمدة <span>6 شهور</span>"
                ]
            }
        ],
        // Contact info

        contactInfo: [
            {
                text: "يمكنكم التواصل معنا عبر البريد الإلكتروني.",
            },
            {
                text: "اتصل بنا لرفع مستوى علامتك التجارية وتحقيق النجاح عبر الإنترنت.",
            },
            {
                text: "قم بزيارة مكتبنا للحصول على حلول مخصصة.",
            }
        ],
        contactTitle: "تواصل معنا",
        contactSubtitle: "تواصل <span>معنا</span> الآن",
        contactDescription: "تواصل مع فريقنا للحصول على حلول متخصصة في بناء المواقع، مصممة لتعزيز حضورك الرقمي وتقديم تجربة مستخدم متميزة.",
        placeholders: {
            firstName: "الاسم الأول",
            lastName: "الاسم الأخير",
            phone: "رقم الهاتف",
            email: "البريد الإلكتروني",
            message: "اكتب استفسارك هنا..."
        },
        submit: "أرسل الرسالة"

    },
    en: {
        nav: {
            home: "Home",
            about: "About Us",
            services: "Services",
            products: "Portfolio",
            Contact: "Contact Us",
        },
        newsletterTitle:
            "<h2> Let's Achieve Excellence in <span> Your Website</span></h2>",
        newsletterPlaceholder: "Enter Your Email",
        quickLinks: "Quick Links",
        ourServices: "Our Services",
        supportTitle: "Support",
        home: "Home",
        about: "About Us",
        services: "Services",
        portfolio: "Our Packages",
        webDevelopment: "Web Design & Development",
        ecommerce: "E-commerce Creation",
        seo: "SEO Optimization",
        support: "Technical Support",
        help: "Help",
        privacy: "Privacy Policy",
        terms: "Terms & Conditions",
        contact: "Contact",
        copyright: "Copyright © 2025 All Rights Reserved.",
        viewMore: "View More",
        mobile: "Mobile App Design and Development Packages",

        // Contact Info

        packagesMobile: [
            {
                title: "Bronze Package",
                description: "Get a professional mobile app for your business with a sleek and user-friendly design, optimized for both Android and iOS. This package is perfect for startups and small businesses looking to establish a strong mobile presence.",
                price: "<h2>1000<sup>QAR</sup><sub> Discount </sub><sub class=strikethrough-strong-money> 2000 </sub></h2>",
                button: "Get it now",
                features: [
                    "Custom mobile app for Android & iOS",
                    "Responsive and user-friendly interface",
                    "Basic admin panel for content updates",
                    "Push notifications integration",
                    "Security and data protection features",
                    "Technical support & maintenance for <span>1 month</span>"
                ]
            },
            {
                title: "Silver Package",
                description: "A dynamic mobile app with advanced features, ideal for medium-sized businesses looking to provide seamless user experiences and enhanced engagement.",
                price: "<h2>1700<sup>QAR</sup><sub> Discount </sub><sub class=strikethrough-strong-money> 3400 </sub></h2>",
                button: "Get it now",
                features: [
                    "Fully customized app for Android & iOS",
                    "Admin panel for easy content management",
                    "Social media and payment gateway integration",
                    "Performance optimization for fast loading speed",
                    "Security encryption and fraud protection",
                    "Technical support & maintenance for <span>3 months</span>"
                ]
            },
            {
                title: "Gold Package",
                description: "A high-end mobile app with top-tier performance, advanced security, and AI-powered features, ideal for e-commerce and large businesses.",
                price: "<h2>2000<sup>QAR</sup><sub> Discount </sub><sub class=strikethrough-strong-money> 4000 </sub></h2>",
                button: "Get it now",
                features: [
                    "Custom-built app with AI-driven features",
                    "Scalable and high-performance architecture",
                    "E-commerce integration with secure payment options",
                    "Advanced analytics and user behavior tracking",
                    "Cloud-based hosting and real-time database",
                    "Technical support & maintenance for <span>6 months</span>"
                ]
            }
        ],

        // contact info

        contactInfo: [
            {
                text: "You can contact us via email.",
            },
            {
                text: "Call us to elevate your brand and achieve online success.",
            },
            {
                text: "Visit our office for tailored solutions.",
            }
        ],
        contactTitle: "Contact Us",
        contactSubtitle: "Get in <span>Touch</span> Now",
        contactDescription: "Reach out to our team for specialized web solutions designed to enhance your digital presence and provide an exceptional user experience.",
        placeholders: {
            firstName: "First Name",
            lastName: "Last Name",
            phone: "Phone Number",
            email: "Email",
            message: "Write your inquiry here..."
        },
        submit: "Send Message"
    },
};

const loadLanguage = () => {
    const savedLang = localStorage.getItem("selectedLang") || "ar";
    updatePageLanguage(savedLang);
    document.getElementById("language-toggle").checked = savedLang === "en";
};
// 

const updatePageLanguage = (lang) => {
    const selectedLang = translations[lang];

    const navItems = document.querySelectorAll(
        ".nav-menu-wrapper .navbar-nav > .nav-item > a"
    );
    const keys = ["home", "about", "services", "products", "Contact"];

    navItems.forEach((item, index) => {
        if (index < keys.length) {
            item.textContent = selectedLang.nav[keys[index]];
        }
    });

    // Update dropdown menu items based on language
    const serviceDropdownItems = document.querySelectorAll(".nav-menu-wrapper .navbar-nav > .nav-item.submenu > ul > li > a");
    serviceDropdownItems.forEach((item) => {
        if (lang === "en" && item.hasAttribute("data-en")) {
            item.textContent = item.getAttribute("data-en");
        } else if (lang === "ar" && item.hasAttribute("data-ar")) {
            item.textContent = item.getAttribute("data-ar");
        }
    });

    // contact functions 

    document.querySelector(".footer-newsletter-title h2").innerHTML =
        selectedLang.newsletterTitle;
    document.querySelector("#mail").placeholder =
        selectedLang.newsletterPlaceholder;

    let links = document.querySelectorAll(".footer-links h3");
    links[0].textContent = selectedLang.quickLinks;
    links[1].textContent = selectedLang.ourServices;
    links[2].textContent = selectedLang.supportTitle;

    let quickLinks = document.querySelectorAll(".footer-links.two ul li a");
    quickLinks[0].textContent = selectedLang.home;
    quickLinks[1].textContent = selectedLang.about;
    quickLinks[2].textContent = selectedLang.services;
    quickLinks[3].textContent = selectedLang.portfolio;

    let servicesLinks = document.querySelectorAll(".footer-links.three ul li a");
    servicesLinks[0].textContent = selectedLang.webDevelopment;
    servicesLinks[1].textContent = selectedLang.ecommerce;
    servicesLinks[2].textContent = selectedLang.seo;
    servicesLinks[3].textContent = selectedLang.support;

    let supportLinks = document.querySelectorAll(".footer-links.four ul li a");
    supportLinks[0].textContent = selectedLang.help;
    supportLinks[1].textContent = selectedLang.contact;

    document.querySelector(".footer-copyright-text p").textContent =
        selectedLang.copyright;



    document.querySelectorAll(".contact-info-item").forEach((item, index) => {
        item.querySelector(".par-info").textContent = translations[lang].contactInfo[index].text;
    });

    document.querySelector(".section-title h3").textContent = translations[lang].contactTitle;
    document.querySelector(".section-title h1").innerHTML = translations[lang].contactSubtitle;
    document.querySelector(".section-title-content p").textContent = translations[lang].contactDescription;

    document.getElementById("fname").placeholder = translations[lang].placeholders.firstName;
    document.getElementById("lname").placeholder = translations[lang].placeholders.lastName;
    document.getElementById("phone").placeholder = translations[lang].placeholders.phone;
    document.getElementById("email").placeholder = translations[lang].placeholders.email;
    document.getElementById("message").placeholder = translations[lang].placeholders.message;

    document.querySelector(".btn-default span").textContent = translations[lang].submit;


    document.querySelector("title").textContent = selectedLang.title;
    document.documentElement.setAttribute("lang", lang);
    document.documentElement.setAttribute("dir", lang === "en" ? "ltr" : "rtl");

    // contact functions End

    document.querySelector(".our-pricing.mobile div h2").textContent =
      selectedLang.mobile;

      document.querySelectorAll(".pricing-item.mobile").forEach((item, index) => {
        item.querySelector(".pricing-header h3").textContent = translations[lang].packagesMobile[index].title;
        item.querySelector(".pricing-header p").textContent = translations[lang].packagesMobile[index].description;
        item.querySelector(".pricing-header h2").innerHTML = translations[lang].packagesMobile[index].price;
        item.querySelector(".pricing-body a").textContent = translations[lang].packagesMobile[index].button;
        const featuresList = item.querySelector(".pricing-footer.mobile ul");
        featuresList.innerHTML = "";
        translations[lang].packagesMobile[index].features.forEach(feature => {
            const li = document.createElement("li");
            li.innerHTML = feature;
            li.className = "time";
            featuresList.appendChild(li);
        });
    });

    document.querySelector("title").textContent = selectedLang.title;
    document.documentElement.setAttribute("lang", lang);
    document.documentElement.setAttribute("dir", lang === "en" ? "ltr" : "rtl");
};


//   
document
    .getElementById("language-toggle")
    .addEventListener("change", function () {
        const lang = this.checked ? "en" : "ar";
        localStorage.setItem("selectedLang", lang);

        const preloader = document.querySelector(".preloader");
        preloader.style.display = "flex";
        preloader.style.alignItems = "center";
        preloader.style.justifyContent = "center";

        // تحديث اللغة فوراً دون تأخير
        updatePageLanguage(lang);
        
        // إخفاء اللودر بعد فترة قصيرة للتأثير البصري
        setTimeout(() => {
            preloader.style.display = "none";
        }, 500);
    });

loadLanguage();
